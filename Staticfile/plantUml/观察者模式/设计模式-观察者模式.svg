<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="592px" preserveAspectRatio="none" style="width:674px;height:592px;background:#FFFFFF;" version="1.1" viewBox="0 0 674 592" width="674px" zoomAndPan="magnify"><defs><filter height="300%" id="faltvnh3rqxc1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="172" x="244.75" y="17.4023">设计模式-观察者模式</text><!--MD5=[d40932010816485ec57b44b6eea2392a]
class Observer--><rect codeLine="3" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="73.9102" id="Observer" style="stroke:#A80036;stroke-width:1.5;" width="147" x="306.5" y="369.1992"/><ellipse cx="349.4" cy="385.1992" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M349.5133,380.7974 L348.3595,385.8691 L350.6754,385.8691 Z M348.0191,378.5562 L351.0157,378.5562 L354.3609,390.9492 L351.9122,390.9492 L351.1485,387.8862 L347.8697,387.8862 L347.1227,390.9492 L344.6739,390.9492 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="369.6" y="389.7344">Observer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="307.5" x2="452.5" y1="401.1992" y2="401.1992"/><polygon fill="none" points="317.5,408.1992,313.5,414.1992,321.5,414.1992" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="326.5" y="415.834">Subject subject;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="307.5" x2="452.5" y1="422.1543" y2="422.1543"/><ellipse cx="317.5" cy="433.1543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="326.5" y="436.7891">abstract void update();</text><!--MD5=[5686f9d9f55274a82bc170b690c7b83d]
class BinaryObserver--><rect codeLine="8" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="73.9102" id="BinaryObserver" style="stroke:#A80036;stroke-width:1.5;" width="198" x="7" y="504.1992"/><ellipse cx="57.75" cy="520.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M60.2231,526.3423 Q59.6421,526.6411 59.0029,526.7905 Q58.3638,526.9399 57.6582,526.9399 Q55.1514,526.9399 53.8315,525.2881 Q52.5117,523.6362 52.5117,520.5151 Q52.5117,517.3857 53.8315,515.7339 Q55.1514,514.082 57.6582,514.082 Q58.3638,514.082 59.0112,514.2314 Q59.6587,514.3809 60.2231,514.6797 L60.2231,517.4023 Q59.5923,516.8213 58.9988,516.5515 Q58.4053,516.2817 57.7744,516.2817 Q56.4297,516.2817 55.7449,517.3484 Q55.0601,518.415 55.0601,520.5151 Q55.0601,522.6069 55.7449,523.6736 Q56.4297,524.7402 57.7744,524.7402 Q58.4053,524.7402 58.9988,524.4705 Q59.5923,524.2007 60.2231,523.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="78.25" y="524.7344">BinaryObserver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="204" y1="536.1992" y2="536.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="204" y1="544.1992" y2="544.1992"/><ellipse cx="18" cy="555.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="27" y="558.834">BinaryObserver(Subject subject)</text><ellipse cx="18" cy="568.1543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="27" y="571.7891">void update()</text><!--MD5=[3ad2779716b80ae3edc7e39fd5424f1e]
class OctalObserver--><rect codeLine="14" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="73.9102" id="OctalObserver" style="stroke:#A80036;stroke-width:1.5;" width="193" x="467.5" y="504.1992"/><ellipse cx="518.75" cy="520.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M521.2231,526.3423 Q520.6421,526.6411 520.0029,526.7905 Q519.3638,526.9399 518.6582,526.9399 Q516.1514,526.9399 514.8315,525.2881 Q513.5117,523.6362 513.5117,520.5151 Q513.5117,517.3857 514.8315,515.7339 Q516.1514,514.082 518.6582,514.082 Q519.3638,514.082 520.0112,514.2314 Q520.6587,514.3809 521.2231,514.6797 L521.2231,517.4023 Q520.5923,516.8213 519.9988,516.5515 Q519.4053,516.2817 518.7744,516.2817 Q517.4297,516.2817 516.7449,517.3484 Q516.0601,518.415 516.0601,520.5151 Q516.0601,522.6069 516.7449,523.6736 Q517.4297,524.7402 518.7744,524.7402 Q519.4053,524.7402 519.9988,524.4705 Q520.5923,524.2007 521.2231,523.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="539.25" y="524.7344">OctalObserver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="468.5" x2="659.5" y1="536.1992" y2="536.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="468.5" x2="659.5" y1="544.1992" y2="544.1992"/><ellipse cx="478.5" cy="555.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="487.5" y="558.834">OctalObserver(Subject subject)</text><ellipse cx="478.5" cy="568.1543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="487.5" y="571.7891">void update()</text><!--MD5=[646ec97fd718915d2d038ec42652a45b]
class HexaObserver--><rect codeLine="19" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="73.9102" id="HexaObserver" style="stroke:#A80036;stroke-width:1.5;" width="192" x="240" y="504.1992"/><ellipse cx="290.25" cy="520.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M292.7231,526.3423 Q292.1421,526.6411 291.5029,526.7905 Q290.8638,526.9399 290.1582,526.9399 Q287.6514,526.9399 286.3315,525.2881 Q285.0117,523.6362 285.0117,520.5151 Q285.0117,517.3857 286.3315,515.7339 Q287.6514,514.082 290.1582,514.082 Q290.8638,514.082 291.5112,514.2314 Q292.1587,514.3809 292.7231,514.6797 L292.7231,517.4023 Q292.0923,516.8213 291.4988,516.5515 Q290.9053,516.2817 290.2744,516.2817 Q288.9297,516.2817 288.2449,517.3484 Q287.5601,518.415 287.5601,520.5151 Q287.5601,522.6069 288.2449,523.6736 Q288.9297,524.7402 290.2744,524.7402 Q290.9053,524.7402 291.4988,524.4705 Q292.0923,524.2007 292.7231,523.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="310.75" y="524.7344">HexaObserver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="241" x2="431" y1="536.1992" y2="536.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="241" x2="431" y1="544.1992" y2="544.1992"/><ellipse cx="251" cy="555.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="260" y="558.834">HexaObserver(Subject subject)</text><ellipse cx="251" cy="568.1543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="260" y="571.7891">void update()</text><!--MD5=[d0da0a299942266ebd64acf2b2e95fa4]
class Subject--><rect codeLine="25" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="125.7305" id="Subject" style="stroke:#A80036;stroke-width:1.5;" width="194" x="300" y="166.1992"/><ellipse cx="371.75" cy="182.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M374.2231,188.3423 Q373.6421,188.6411 373.0029,188.7905 Q372.3638,188.9399 371.6582,188.9399 Q369.1514,188.9399 367.8315,187.2881 Q366.5117,185.6362 366.5117,182.5151 Q366.5117,179.3857 367.8315,177.7339 Q369.1514,176.082 371.6582,176.082 Q372.3638,176.082 373.0112,176.2314 Q373.6587,176.3809 374.2231,176.6797 L374.2231,179.4023 Q373.5923,178.8213 372.9988,178.5515 Q372.4053,178.2817 371.7744,178.2817 Q370.4297,178.2817 369.7449,179.3484 Q369.0601,180.415 369.0601,182.5151 Q369.0601,184.6069 369.7449,185.6736 Q370.4297,186.7402 371.7744,186.7402 Q372.4053,186.7402 372.9988,186.4705 Q373.5923,186.2007 374.2231,185.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="392.25" y="186.7344">Subject</text><line style="stroke:#A80036;stroke-width:1.5;" x1="301" x2="493" y1="198.1992" y2="198.1992"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="308" y="206.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="320" y="212.834">List&lt;Observer&gt; observers</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="308" y="219.1543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="320" y="225.7891">int state</text><line style="stroke:#A80036;stroke-width:1.5;" x1="301" x2="493" y1="232.1094" y2="232.1094"/><ellipse cx="311" cy="243.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="320" y="246.7441">int getState()</text><ellipse cx="311" cy="256.0645" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="320" y="259.6992">void setState(int state)</text><ellipse cx="311" cy="269.0195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="168" x="320" y="272.6543">void attach(Observer observer)</text><ellipse cx="311" cy="281.9746" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="320" y="285.6094">void notifyAllObservers()</text><!--MD5=[afd3fc275e4ef2c975d23a3bae002534]
class ObserverPatternDemo--><rect codeLine="41" fill="#FEFECE" filter="url(#faltvnh3rqxc1)" height="60.9551" id="ObserverPatternDemo" style="stroke:#A80036;stroke-width:1.5;" width="160" x="219" y="28.1992"/><ellipse cx="234" cy="44.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M236.4731,50.3423 Q235.8921,50.6411 235.2529,50.7905 Q234.6138,50.9399 233.9082,50.9399 Q231.4014,50.9399 230.0815,49.2881 Q228.7617,47.6362 228.7617,44.5151 Q228.7617,41.3857 230.0815,39.7339 Q231.4014,38.082 233.9082,38.082 Q234.6138,38.082 235.2612,38.2314 Q235.9087,38.3809 236.4731,38.6797 L236.4731,41.4023 Q235.8423,40.8213 235.2488,40.5515 Q234.6553,40.2817 234.0244,40.2817 Q232.6797,40.2817 231.9949,41.3484 Q231.3101,42.415 231.3101,44.5151 Q231.3101,46.6069 231.9949,47.6736 Q232.6797,48.7402 234.0244,48.7402 Q234.6553,48.7402 235.2488,48.4705 Q235.8423,48.2007 236.4731,47.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128" x="248" y="48.7344">ObserverPatternDemo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="220" x2="378" y1="60.1992" y2="60.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="220" x2="378" y1="68.1992" y2="68.1992"/><ellipse cx="230" cy="79.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="127" x="239" y="82.834">void main(String[] args)</text><!--MD5=[df63ec247ad50557bde19c9e8ea9452e]
reverse link Observer to BinaryObserver--><path d="M287.84,451.9292 C252.87,468.9092 213.52,488.0092 180.4,504.0892 " fill="none" id="Observer-backto-BinaryObserver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="285.16,445.4492,306.21,443.0192,291.28,458.0492,285.16,445.4492" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cd384fa83f635d34cc02da03c434d9b2]
reverse link Observer to OctalObserver--><path d="M446.77,455.4592 C469.01,471.5392 493.37,489.1492 514.1,504.1292 " fill="none" id="Observer-backto-OctalObserver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="442.39,460.9292,430.28,443.5392,450.59,449.5892,442.39,460.9292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1075e87d368766794b421cacfe398b27]
reverse link Observer to HexaObserver--><path d="M361.69,462.5592 C357.07,476.5192 352.23,491.1492 348.01,503.8992 " fill="none" id="Observer-backto-HexaObserver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="355.05,460.3292,367.98,443.5392,368.34,464.7292,355.05,460.3292" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[17985df0d7710a982d77374bbb28b463]
link Subject to Observer--><path codeLine="34" d="M390.96,292.3892 C388.64,316.2192 386.06,342.7892 383.99,364.1492 " fill="none" id="Subject-to-Observer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="383.5,369.1892,388.3562,360.6208,383.9862,364.2129,380.3941,359.8429,383.5,369.1892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="389" y="335.7676">依赖使用 use a</text><!--MD5=[54a7aa3433dfa797b1398b050e01a277]
link ObserverPatternDemo to Subject--><path codeLine="35" d="M316.29,89.4392 C327.88,109.3592 343.61,136.4092 358.11,161.3392 " fill="none" id="ObserverPatternDemo-to-Subject" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="360.8,165.9692,359.7243,156.1793,358.2824,161.6493,352.8124,160.2074,360.8,165.9692" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="344" y="132.7676">依赖使用 use a</text><!--MD5=[344182741f55d66a62244c73be73f7a4]
link ObserverPatternDemo to BinaryObserver--><path codeLine="36" d="M283.33,89.4292 C258.38,137.4992 208.97,235.6292 175,322.1992 C151.26,382.6892 129.67,454.9592 117.19,499.1992 " fill="none" id="ObserverPatternDemo-to-BinaryObserver" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="115.78,504.1892,122.051,496.5948,117.1234,499.3731,114.3452,494.4454,115.78,504.1892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="176" y="335.7676">依赖使用 use a</text><!--MD5=[b7b9f9e99dfe7570369e87383b4cf515]
link ObserverPatternDemo to OctalObserver--><path codeLine="37" d="M379.07,77.5392 C426.49,92.6492 482.85,119.5792 512,166.1992 C577.85,271.4992 574.71,425.7792 568.63,498.8692 " fill="none" id="ObserverPatternDemo-to-OctalObserver" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="568.19,503.9892,572.9461,495.3649,568.6182,499.0076,564.9755,494.6797,568.19,503.9892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="567" y="335.7676">依赖使用 use a</text><!--MD5=[b4031c2acc8c24c2986f1a25d43907eb]
link ObserverPatternDemo to HexaObserver--><path codeLine="38" d="M292.79,89.6592 C280.39,155.0692 256.45,315.0592 289,443.1992 C293.89,462.4292 302.79,482.3692 311.54,499.1392 " fill="none" id="ObserverPatternDemo-to-HexaObserver" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="314,503.7792,313.3139,493.9543,311.656,499.3627,306.2475,497.7047,314,503.7792" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="275" y="335.7676">依赖使用 use a</text><!--MD5=[8486f9eaccbdb6ebd30f9e44ae7d6ef5]
@startuml
Title 设计模式-观察者模式

abstract class Observer {
   ~ Subject subject;
   + abstract void update();
}

class BinaryObserver extends Observer{
   + BinaryObserver(Subject subject)
   + void update()
}


class OctalObserver extends Observer{
   + OctalObserver(Subject subject)
   + void update()
}

class HexaObserver extends Observer{
   + HexaObserver(Subject subject)
   + void update()
}


class Subject{
   - List<Observer> observers 
   - int state
   + int getState()
   + void setState(int state)
   + void attach(Observer observer)
   + void notifyAllObservers()
} 

Subject ..> Observer:依赖使用 use a
ObserverPatternDemo ..> Subject:依赖使用 use a
ObserverPatternDemo ..> BinaryObserver:依赖使用 use a
ObserverPatternDemo ..> OctalObserver:依赖使用 use a
ObserverPatternDemo ..> HexaObserver:依赖使用 use a


class ObserverPatternDemo {
   + {static} void main(String[] args)
}



@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>