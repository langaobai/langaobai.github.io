<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="544px" preserveAspectRatio="none" style="width:511px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 511 544" width="511px" zoomAndPan="magnify"><defs><filter height="300%" id="fflh11aflrcah" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="154" x="172" y="17.4023">设计模式-享元模式</text><!--MD5=[5addd10074bc94483487f22db7bede91]
cluster interfacePackage--><rect fill="#FFFFFF" filter="url(#fflh11aflrcah)" height="370" style="stroke:#000000;stroke-width:1.5;" width="220" x="7" y="28.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121" x="56.5" y="43.7344">interfacePackage</text><!--MD5=[426e75666daf533f17226ff4c87e20fd]
class Shape--><rect codeLine="5" fill="#FEFECE" filter="url(#fflh11aflrcah)" height="60.9551" id="Shape" style="stroke:#A80036;stroke-width:1.5;" width="86" x="70" y="71.1992"/><ellipse cx="93.55" cy="87.1992" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M89.9777,83.4644 L89.9777,81.3062 L97.3571,81.3062 L97.3571,83.4644 L94.8918,83.4644 L94.8918,91.541 L97.3571,91.541 L97.3571,93.6992 L89.9777,93.6992 L89.9777,91.541 L92.4431,91.541 L92.4431,83.4644 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="109.45" y="91.7344">Shape</text><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="155" y1="103.1992" y2="103.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="71" x2="155" y1="111.1992" y2="111.1992"/><ellipse cx="81" cy="122.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="90" y="125.834">void draw()</text><!--MD5=[a7f9118cae7621dd25d25149752faef0]
class Circle--><rect codeLine="10" fill="#FEFECE" filter="url(#fflh11aflrcah)" height="164.5957" id="Circle" style="stroke:#A80036;stroke-width:1.5;" width="163" x="31.5" y="209.1992"/><ellipse cx="92.75" cy="225.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M95.2231,231.3423 Q94.6421,231.6411 94.0029,231.7905 Q93.3638,231.9399 92.6582,231.9399 Q90.1514,231.9399 88.8315,230.2881 Q87.5117,228.6362 87.5117,225.5151 Q87.5117,222.3857 88.8315,220.7339 Q90.1514,219.082 92.6582,219.082 Q93.3638,219.082 94.0112,219.2314 Q94.6587,219.3809 95.2231,219.6797 L95.2231,222.4023 Q94.5923,221.8213 93.9988,221.5515 Q93.4053,221.2817 92.7744,221.2817 Q91.4297,221.2817 90.7449,222.3484 Q90.0601,223.415 90.0601,225.5151 Q90.0601,227.6069 90.7449,228.6736 Q91.4297,229.7402 92.7744,229.7402 Q93.4053,229.7402 93.9988,229.4705 Q94.5923,229.2007 95.2231,228.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32" x="113.25" y="229.7344">Circle</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="193.5" y1="241.1992" y2="241.1992"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="39.5" y="249.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="51.5" y="255.834">String color;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="39.5" y="262.1543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="27" x="51.5" y="268.7891">int x;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="39.5" y="275.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="51.5" y="281.7441">int y;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="39.5" y="288.0645"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="51.5" y="294.6992">int radius;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="193.5" y1="301.0195" y2="301.0195"/><ellipse cx="42.5" cy="312.0195" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="51.5" y="315.6543">Circle(String color)</text><ellipse cx="42.5" cy="324.9746" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="51.5" y="328.6094">void setX(int x)</text><ellipse cx="42.5" cy="337.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="51.5" y="341.5645">void setY(int y)</text><ellipse cx="42.5" cy="350.8848" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="51.5" y="354.5195">void setRadius(int radius)</text><ellipse cx="42.5" cy="363.8398" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="51.5" y="367.4746">void draw()</text><!--MD5=[1c573188985f4c75505740d1b2f472b4]
class ShapeFactory--><rect codeLine="25" fill="#FEFECE" filter="url(#fflh11aflrcah)" height="73.9102" id="ShapeFactory" style="stroke:#A80036;stroke-width:1.5;" width="246" x="251" y="254.6992"/><ellipse cx="331.75" cy="270.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M334.2231,276.8423 Q333.6421,277.1411 333.0029,277.2905 Q332.3638,277.4399 331.6582,277.4399 Q329.1514,277.4399 327.8315,275.7881 Q326.5117,274.1362 326.5117,271.0151 Q326.5117,267.8857 327.8315,266.2339 Q329.1514,264.582 331.6582,264.582 Q332.3638,264.582 333.0112,264.7314 Q333.6587,264.8809 334.2231,265.1797 L334.2231,267.9023 Q333.5923,267.3213 332.9988,267.0515 Q332.4053,266.7817 331.7744,266.7817 Q330.4297,266.7817 329.7449,267.8484 Q329.0601,268.915 329.0601,271.0151 Q329.0601,273.1069 329.7449,274.1736 Q330.4297,275.2402 331.7744,275.2402 Q332.4053,275.2402 332.9988,274.9705 Q333.5923,274.7007 334.2231,274.1196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76" x="352.25" y="275.2344">ShapeFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="496" y1="286.6992" y2="286.6992"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="259" y="294.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="220" x="271" y="301.334">final HashMap&lt;String, Shape&gt; circleMap;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="252" x2="496" y1="307.6543" y2="307.6543"/><ellipse cx="262" cy="318.6543" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="154" x="271" y="322.2891">Shape getCircle(String color)</text><!--MD5=[fcf65f8fdf224a8ba071953f57d13383]
class FlyweightPatternDemo--><rect codeLine="33" fill="#FEFECE" filter="url(#fflh11aflrcah)" height="60.9551" id="FlyweightPatternDemo" style="stroke:#A80036;stroke-width:1.5;" width="159" x="294.5" y="469.1992"/><ellipse cx="309.5" cy="485.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M311.9731,491.3423 Q311.3921,491.6411 310.7529,491.7905 Q310.1138,491.9399 309.4082,491.9399 Q306.9014,491.9399 305.5815,490.2881 Q304.2617,488.6362 304.2617,485.5151 Q304.2617,482.3857 305.5815,480.7339 Q306.9014,479.082 309.4082,479.082 Q310.1138,479.082 310.7612,479.2314 Q311.4087,479.3809 311.9731,479.6797 L311.9731,482.4023 Q311.3423,481.8213 310.7488,481.5515 Q310.1553,481.2817 309.5244,481.2817 Q308.1797,481.2817 307.4949,482.3484 Q306.8101,483.415 306.8101,485.5151 Q306.8101,487.6069 307.4949,488.6736 Q308.1797,489.7402 309.5244,489.7402 Q310.1553,489.7402 310.7488,489.4705 Q311.3423,489.2007 311.9731,488.6196 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="323.5" y="489.7344">FlyweightPatternDemo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="295.5" x2="452.5" y1="501.1992" y2="501.1992"/><line style="stroke:#A80036;stroke-width:1.5;" x1="295.5" x2="452.5" y1="509.1992" y2="509.1992"/><ellipse cx="305.5" cy="520.1992" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="314.5" y="523.834">void main()</text><!--MD5=[d637a7d0c5b779627461b5a6979d5756]
reverse link Shape to Circle--><path codeLine="22" d="M113,152.4992 C113,169.8692 113,189.8492 113,209.1192 " fill="none" id="Shape-backto-Circle" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="106,152.4892,113,132.4892,120,152.4892,106,152.4892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="114" y="175.7676">implements</text><!--MD5=[27dae504d0533080893ff44b4ca26e80]
reverse link interfacePackage to ShapeFactory--><path codeLine="31" d="M227.1864,112.6334 C227.2886,112.7573 227.3916,112.8822 227.4955,113.0082 C227.7032,113.2602 227.9143,113.5162 228.1287,113.7762 C229.8438,115.8563 231.7701,118.1927 233.8814,120.7534 C242.3266,130.9964 253.7306,144.8286 266.4063,160.203 C291.7575,190.9517 322.195,227.8692 344.22,254.5792 " fill="none" id="interfacePackage-backto-ShapeFactory" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="227.1864,112.6334,229.8256,122.122,230.3672,116.4911,235.9981,117.0327,227.1864,112.6334" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="279" y="175.7676">依赖-装饰 use a</text><!--MD5=[f02f8a361569a55b7ff849948626ec59]
reverse link ShapeFactory to FlyweightPatternDemo--><path codeLine="37" d="M374,334.3192 C374,374.2792 374,433.6692 374,469.0492 " fill="none" id="ShapeFactory-backto-FlyweightPatternDemo" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="374,329.0492,370,338.0492,374,334.0492,378,338.0492,374,329.0492" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="375" y="435.7676">依赖-装饰 use a</text><!--MD5=[6fbdcb4a54693ae0c9f156cae5f4dc00]
@startuml
Title 设计模式-享元模式

package interfacePackage <<Rectangle>>{

    interface Shape {
        + void draw()
    }


    class Circle {
        - String color;
        - int x;
        - int y;
        - int radius;
        + Circle(String color)
        + void setX(int x)
        + void setY(int y) 
        + void setRadius(int radius)
        + void draw() 
    }

    Shape <|.. Circle:implements
}

class ShapeFactory {
   - {static} final HashMap<String, Shape> circleMap;
   + {static} Shape getCircle(String color)
}


interfacePackage <.. ShapeFactory:依赖-装饰 use a

class FlyweightPatternDemo{
    + void main()
}

ShapeFactory <.. FlyweightPatternDemo:依赖-装饰 use a


@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>